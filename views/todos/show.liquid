{% layout "default-layout.liquid" %}
{% block content %}
        <div class="container-fluid">
                <article>
                        <h2>{{todo.list}}</h2>
                        <div class="btn-group">
                                <a href="/todos/{{todo._id}}/edit" class="btn btn-danger custom-btn">Edit Todo</a>
                                <!-- post mehtod is going to be overriden by DELETE since the browser dosen't support delete -->
                                <form action="/todos/{{todo._id}}?_method=DELETE" method="POST">
                                        <input type="submit" value="Delete" class="btn btn-danger custom-btn">
                                </form>
                        </div>
                </article>
                <div class="col-md-6">
                <form action="/comments/{{todo._id}}" method="POST">
                <fieldset>
                        <legend>Add comment</legend>
                        <label class="form-label">Comment:</label>
                        <input 
                                type="text" 
                                class="form-control" 
                                name="note" 
                                placeholder="Enter comment here"
                        />
                </fieldset>
                        <input 
                                type="submit" 
                                class="btn btn-success" 
                                value="Add comment" 
                        />
                </form>
                </div>
                {% if todo.comments.length > 0 %}
                <div class="container-sm justify-content-center">
                        <div class="col-md-8 col-lg-6" >
                        {% for comment in todo.comments %}
                        {% render '../comment.liquid' comment: comment, userId: userId, todo: todo, username: username%}
                        {% endfor %}
                        </div>
                </div>
                {% endif %}
        </div>




        <style>
        
        @import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville&family=Montserrat:wght@600&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&family=Roboto:ital,wght@0,400;0,500;1,500&family=Work+Sans:ital,wght@0,200;0,300;1,200;1,300&display=swap');

        nav {
                height: 65px;
                font-family: 'Open Sans', sans-serif;
        }

        .navbar-brand {
            color: bisque;
            font-family: 'Montserrat', sans-serif;
            font-size: 24px;
        }

        #navbarNav .new-link,.nav-link {
            margin: 10px;
            font-family: 'Open Sans', sans-serif;
            font-size: 18px;
            text-decoration: none;
            color: rgb(220, 245, 230);
        }

        .btn {
            margin-top: 15px;
        } 
       </style>
{% endblock %}
